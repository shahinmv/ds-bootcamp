for(i in 1:nrow(data)){
data$a[i] <- ifelse(data$random[i]> sum(data@random), 1, 0)
}
set.seed(123)
data <- data.frame(random = rnorm(50))
for(i in 1:nrow(data)){
data$b[i] <- ifelse(data$random[i]> sum(data@random), 1, 0)
}
set.seed(123)
data <- data.frame(random = rnorm(50))
for(i in 1:nrow(data)){
data$b[i] <- ifelse(data$random[i]> sum(data@random), 1, 0)
}
set.seed(123)
data <- data.frame(random = rnorm(50))
for(i in 1:nrow(data)){
data$b[i] <- ifelse(data$random[i]> sum(data@random), 1, 0)
}
set.seed(123)
data <- data.frame(random = rnorm(50))
for(i in 1:nrow(data)){
data$b[i] <- ifelse(data$random[i]> sum(data@random), 1, 0)
}
data$b[i] <- ifelse(data$random[i]> sum(data$random), 1, 0)
data
set.seed(123)
data <- data.frame(random = rnorm(50))
for(i in 1:nrow(data)){
data$b[i] <- ifelse(data$random[i]> sum(data$random), 1, 0)
}
for(i in 1:nrow(data)){
data$c[i] <- ifelse(data$random[i]> sum(data$random[i],data$random[i-1], sum(data$random)), 1, 0)
}
for(i in 1:nrow(data)){
data$d[i] <- ifelse(abs(data$random[i])> abs(data$random[i-1]), 1, 0)
}
for(i in 1:nrow(data)){
data$e[i] <- ifelse(abs(data$random[i])> sum(data$random), 1, 0)
}
for(i in 1:nrow(data)){
data$f[i] <- ifelse(abs(sum(data$random[i-1], data$random[i]))> sum(data$random), 1, 0)
}
for(i in 1:nrow(data)){
data$a[i] <- ifelse(data$random[i]> data$random[i-1], 1, 0)
}
for(i in 1:nrow(data)){
data$n[i] <- sum(data$a, data$b, data$c, data$d, data$d, data$e)
}
for(i in 1:nrow(data)){
data$n[i] <- sum(data$a[i], data$b[i], data$c[i], data$d[i], data$d[i], data$e[i])
}
39 -> x
22 -> y
(z <- x-y)
(vec2<-5:9)
vec1-vec2
vec1<-c(2, 5, 8, 12, 16)
vec2<-5:
vec1-vec2
vec1<-c(2, 5, 8, 12, 16)
vec2<-5
vec1-vec2
vec1<-c(2, 5, 8, 12, 16)
vec2<-5:9
vec1-vec2
# 3
(number<-seq(2, 100, 3))
(number<-seq(2, 300, 3))
length(number)
(number<-seq(2, length.out=100, 3))
# 3
(number<-seq(from=2, length.out=100, by=3))
number.series[c(5,10,15,20)]
number[c(5,10,15,20)]
number[10:30]
revenue <- c(14574.49, 7606.46, 12611.41, 13175.41, 8758.65, 8105.44, 11496.28,
9766.09, 10305.32, 17379.96, 10713.97, 15433.50)
expense <- c(12051.82, 5695.07, 12319.20, 12089.72, 8658.57, 840.20, 3285.73, 5821.12,
6976.93, 16618.61, 10054.37, 3803.96)
(
profit<-revenue-expense)
(profit<-revenue-expense)
round(profit*0.3)
round(profit*0.3, 2)
profit_after_tax <- profit - tax
mean(profit_after_tax)
profit_after_tax <- profit - tax
(tax<-round(profit*0.3, 2))
profit_after_tax <- profit - tax
mean(profit_after_tax)
for(i in 1:length(profit_after_tax)) {
profit_after_tax[i]
}
(profit_after_tax[i])
for(i in 1:length(profit_after_tax)) {
out<-profit_after_tax[i]
}
for(i in 1:length(profit_after_tax)) {
out<-profit_after_tax[i]
}
print(profit_after_tax[i])
for(i in 1:length(profit_after_tax)) {
print(profit_after_tax[i])
}
for(i in 1:length(profit_after_tax)) {
print(profit_after_tax[i])
}
mean_profit<-mean(profit_after_tax)
for(i in 1:length(profit_after_tax)) {
if(profit_after_tax[i]>mean_profit){
print(profit_after_tax[i])
}
}
month.abb[2]
for(i in 1:length(profit_after_tax)) {
if(profit_after_tax[i]>mean_profit){
print(month.abb[i])
}
}
setwd("C:/Users/shahinmammadov/Desktop/ds-bootcamp/Rprogramming/Week 9")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F);
names(raw) <- 'col'
library(tidyverse)
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F);
names(raw) <- 'col'
library(tidyverse)
library(readxl)
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F);
names(raw) <- 'col'
View(raw)
View(raw)
for (i in 1:nrow(temp1)){
print(temp1[i])
}
for (i in 1:nrow(raw)){
print(raw[i])
}
for (i in 1:nrow(raw)){
print(raw[i])
}
clean_data = data.frame()
for (i in 1:nrow(raw)){
print(raw[i])
}
?grepl
for (i in 1:nrow(raw)){
if grep("AM", raw[i], fixed=TRUE){
print(raw[i])
}
}
grep("AM", raw[i], fixed=TRUE)
grep("AM", raw[1], fixed=TRUE)
grep("AM", raw[2], fixed=TRUE)
?lparen
install.packages("stringr")
install.packages("stringr")
library("stringr")
for (i in 1:nrow(raw)){
if str_detect(raw[i], "AM")
print(raw[i])
}
str_detect(raw, "AM")
for (i in 1:nrow(raw)){
print(raw[i])
}
for (i in 1:nrow(raw)){
str_detect(raw[i], "AM")
}
for (i in 1:nrow(raw)){
temp <- raw[i]
print(temp)
}
View(temp)
for (i in 1:nrow(raw)){
if str_detect(raw$col[i], "AM")
print(raw[i])
}
for (i in 1:nrow(raw)){
if str_detect{(raw$col[i], "AM")}
print(raw[i])
}
}
for (i in 1:nrow(raw)){
if (str_detect(raw$col[i], "AM")){
print(raw[i])
}
}
for (i in 1:nrow(raw)){
if (str_detect(raw$col[i], "AM")){
print(raw$col[i])
}
}
for (i in 1:nrow(raw)){
if (str_detect(raw$col[i], "AM")){
clean_data$night_day <- "AM"
}
else{
clean_data$night_day <- "PM"
}
}
clean_data = data.frame(night_day = character(), clock = numeric(), weekday = character(), date = character(), kwh = double())
for (i in 1:nrow(raw)){
if (str_detect(raw$col[i], "AM")){
clean_data$night_day <- "AM"
}
else{
clean_data$night_day <- "PM"
}
}
View(clean_data)
View(clean_data)
for (i in 1:nrow(raw)){
if (str_detect(raw$col[i], "AM")){
clean_data$night_day[i] <- "AM"
}
else{
clean_data$night_day[i] <- "PM"
}
}
for (i in 1:nrow(raw)){
if (str_detect(raw$col[i], "AM")){
clean_data$night_day[i] = "AM"
}
else{
clean_data$night_day[i] = "PM"
}
}
clean_data = data.frame(night_day = character(), clock = numeric(), weekday = character(), date = character(), kwh = double())
for (i in 1:nrow(raw)){
if (str_detect(raw$col[i], "AM")){
clean_data$night_day[i] = "AM"
}
else{
clean_data$night_day[i] = "PM"
}
}
source("C:/Users/shahinmammadov/Desktop/ds-bootcamp/Rprogramming/Week 9/R-W9-CS.R", echo=TRUE)
clean_data$night_day <- NA
clean_data <- data.frame(night_day = character(), clock = numeric(), weekday = character(), date = character(), kwh = double())
for (i in 1:nrow(raw)){
if (str_detect(raw$col[i], "AM")){
clean_data$night_day[i] = "AM"
}
else{
clean_data$night_day[i] = "PM"
}
}
for (i in 1:nrow(raw)){
clean_data$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
for (i in 1:nrow(raw)){
(str_detect(raw$col[i], "PM"), "PM", "AM")
}
for (i in 1:nrow(raw)){
print(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
View(copy)
View(copy)
for (i in 1:nrow(raw)){
#copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
(as.numeric(gsub("([0-9]+).*$", "\\1", raw$col[i])))
}
for (i in 1:nrow(raw)){
#copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
print(as.numeric(gsub("([0-9]+).*$", "\\1", raw$col[i])))
}
warning()
warning()
for (i in 1:nrow(raw)){
#copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
print(as.numeric(gsub("([0-9]+).*$", "\\1", raw$col[i])))
}
warning()
copy$col <- gsub('AM|PM|kwh|_', '', copy$col)
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', ' ', copy$col)
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', ' ', copy$col)
copy$col <- gsub(' ', '', copy$col)
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub(' ', '', copy$col)
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', '', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- separate(copy, col, c('Hour', 'Date', 'Usage'), sep=' ')
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', '', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- separate(copy, col, c('Hour', 'Date', 'Usage'), sep=' ')
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', '', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- separate(copy, col, c('Hour', 'Date', 'Usage'), sep=' ')
copy$Hour <- as.integer(df$Hour)
copy$Date <- copy$Date %>% as.Date('%-%-%')
copy$Usage <- as.numeric(copy$Usage)
copy$col$Hour <- as.integer(df$Hour)
copy$col$Date <- copy$Date %>% as.Date('%-%-%')
copy$col$Usage <- as.numeric(copy$Usage)
copy$col$Hour <- as.integer(copy$Hour)
copy$col$Date <- copy$Date %>% as.Date('%-%-%')
copy$col$Usage <- as.numeric(copy$Usage)
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', '', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy <- separate(copy, col, c('Hour', 'Date', 'Usage'), sep=' ')
copy$Hour <- as.integer(copy$Hour)
copy$Date <- copy$Date %>% as.Date('%-%-%')
copy$Usage <- as.numeric(copy$Usage)
library(tidyverse)
library(readxl)
library("stringr")
raw <- read_xlsx("MO14-Round-1-Dealing-With-Data-Workbook.xlsx", na = "", sheet = 2,
col_names = F)
names(raw) <- 'col'
copy <- raw
for (i in 1:nrow(raw)){
copy$night_day[i] <- ifelse(str_detect(raw$col[i], "PM"), "PM", "AM")
}
copy$col <- gsub('AM|PM|kwh|_', ' ', copy$col)
copy$col<- trimws(copy$col)
copy <- copy %>% mutate(weekday = case_when(grepl('Monday|Mon', col)~'Monday',
grepl('Tuesday|Tue', col)~'Tuesday',
grepl('Wednesday|Wed', col)~'Wednesday',
grepl('Thursday|Thu', col)~'Thursday',
grepl('Friday|Fri', col)~'Friday',
grepl('Saturday|Sat', col)~'Saturday',
grepl('Sunday|Sun', col)~'Sunday',))
copy$col <- gsub('rd|nd|st|th|Monday|Mon|Tuesday|Tue|Wednesday|Wed|Thursday|Thu|Friday|Fri|Saturday|Sat|Sunday|Sun', '', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy$col <- gsub('  ', ' ', copy$col)
copy <- separate(copy, col, c('Hour', 'Date', 'Usage'), sep=' ')
copy$Hour <- as.integer(copy$Hour)
copy$Date <- copy$Date %>% as.Date('%d-%b-%Y')
copy$Usage <- as.numeric(copy$Usage)
